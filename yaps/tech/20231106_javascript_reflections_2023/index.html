<html lang=en><head><meta charset=UTF-8><link rel=stylesheet href=/css/index.css><link rel="shortcut icon" type=image/png href=/img/favicon.png><title>moom</title>
<script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body><div id=container><div id=title>tech</div><article id=blog><div class=blog-title>Reflections on using Javascript in 2023</div><div class=blog-date><time datetime=2023-11-06T08:00:00+08:00>Nov 6, 2023</time></div><div class=blog-body><p>Recently, I have been writing quite a bit of Javascript for a couple of side-projects.
I was a little inspired to attempt to write simple webapps without the use of any frameworks.
One of them is avaliable here: <a href=https://momohoudai.github.io/fvf/>FvF</a>.
This post is just some personal reflections going back to use vanilla Javascript/CSS in 2023.</p><p>So just some context.
I'm not unfamiliar with web development, which makes up a chunk of my professional career.
I'm not unfamiliar with Javascript pre and post ES6, having done projects in both versions.
I'm not unfamiliar with the insanity that is Javascript frameworks, Typescript and all that.</p><p>I think one of the best and worst things about modern Javascript is that there are many ways to express something.
I feel like there is a lot of syntax bloat in it.
There are new syntaxes, some of which kind of overlap with old syntax.
One example of this is differences between <code>for in</code> vs <code>for of</code>.</p><p>They both work for arrays...</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#c678dd>const</span> <span style=color:#c1abea>arr</span> <span style=color:#c7bf54>=</span> [<span style=color:#d19a66>1</span>,<span style=color:#d19a66>2</span>,<span style=color:#d19a66>3</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Both of these print the same thing
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#c678dd>for</span> (<span style=color:#c678dd>const</span> <span style=color:#c1abea>x</span> <span style=color:#c678dd>in</span> <span style=color:#c1abea>arr</span>) <span style=color:#c1abea>console</span>.<span style=color:#c1abea>log</span>(<span style=color:#c1abea>x</span>);
</span></span><span style=display:flex><span><span style=color:#c678dd>for</span> (<span style=color:#c678dd>const</span> <span style=color:#c1abea>x</span> <span style=color:#c678dd>of</span> <span style=color:#c1abea>arr</span>) <span style=color:#c1abea>console</span>.<span style=color:#c1abea>log</span>(<span style=color:#c1abea>x</span>);
</span></span></code></pre></div><p>...but not so for other data structures:</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#c678dd>const</span> <span style=color:#c1abea>s</span> <span style=color:#c7bf54>=</span> <span style=color:#c678dd>new</span> <span style=color:#c1abea>Set</span>([<span style=color:#d19a66>1</span>,<span style=color:#d19a66>2</span>,<span style=color:#d19a66>3</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// Both of these print different things!
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span><span style=color:#c678dd>for</span> (<span style=color:#c678dd>const</span> <span style=color:#c1abea>x</span> <span style=color:#c678dd>in</span> <span style=color:#c1abea>s</span>) <span style=color:#c1abea>console</span>.<span style=color:#c1abea>log</span>(<span style=color:#c1abea>x</span>);
</span></span><span style=display:flex><span><span style=color:#c678dd>for</span> (<span style=color:#c678dd>const</span> <span style=color:#c1abea>x</span> <span style=color:#c678dd>of</span> <span style=color:#c1abea>s</span>) <span style=color:#c1abea>console</span>.<span style=color:#c1abea>log</span>(<span style=color:#c1abea>x</span>);
</span></span></code></pre></div><p>Suddenly when you loop through something like a Set, you will have to use <code>for of</code>.
Now, I know the difference between them, but the question is whether it is right to have them both exist at the same time?
Backwards compatibility? Sure but...do you really need to take up a new keyword?</p><p>At some point, it feels eeriely similar to how I feel when I use modern C++.
There are lots of ways to express one thing, with slight naunces and edge cases that works in one way but not in another.</p><p>One thing that I welcome and I think is interesting to note is Destructuring Assignments.
I hated this in C++ where you can write code like this:</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>#include</span> <span style=color:#8a93a5;font-style:italic>&lt;tuple&gt;</span><span style=color:#8a93a5;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#c678dd>auto</span> <span style=color:#00b1f7>foo</span>() {
</span></span><span style=display:flex><span>  <span style=color:#c678dd>struct</span> <span style=color:#76a9f9>wtf</span> { <span style=color:#ef8383>int</span> <span style=color:#c1abea>a</span>, <span style=color:#ef8383>int</span> <span style=color:#c1abea>b</span>; };
</span></span><span style=display:flex><span>  <span style=color:#c678dd>return</span> <span style=color:#c1abea>wtf</span> { <span style=color:#d19a66>1</span>, <span style=color:#d19a66>2</span> };
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ef8383>int</span> <span style=color:#00b1f7>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#c678dd>auto</span> [<span style=color:#c1abea>x</span>, <span style=color:#c1abea>y</span>] <span style=color:#c7bf54>=</span> <span style=color:#c1abea>foo</span>();
</span></span><span style=display:flex><span>  <span style=color:#8a93a5;font-style:italic>// do what you need with x,y 
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic></span>}
</span></span></code></pre></div><p>...because you are losing type information in a statically typed language.
It annoys me that without an IDE, I cannot immediately figure out what <code>x</code> and <code>y</code> is when I read them.
This goes into a rant about the introduction and usage of the <code>auto</code> in C++, which I won't go into in this post.</p><p>However, considering that the idea of <code>auto</code> is natural in Javascript (i.e. all variables are variant types), Destructuring Assignments at least <em>felt</em> more natural.
I really like how it ties with the rest (...) operator.</p><div class=highlight><pre tabindex=0 style=color:#b0c4de;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#c678dd>const</span> <span style=color:#c1abea>many_things</span> <span style=color:#c7bf54>=</span> [<span style=color:#d19a66>1</span>,<span style=color:#d19a66>2</span>,<span style=color:#d19a66>3</span>,<span style=color:#d19a66>4</span>,<span style=color:#d19a66>5</span>,<span style=color:#d19a66>6</span>,<span style=color:#d19a66>7</span>,<span style=color:#d19a66>8</span>,<span style=color:#d19a66>9</span>,<span style=color:#d19a66>10</span>];
</span></span><span style=display:flex><span><span style=color:#c678dd>let</span> <span style=color:#c1abea>things</span> [<span style=color:#c1abea>first</span>, <span style=color:#c1abea>second</span>, <span style=color:#c1abea>third</span>, ...<span style=color:#c1abea>fourth</span>] <span style=color:#c7bf54>=</span> <span style=color:#c1abea>many_things</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// first is 1
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// second is 2
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// third is 3
</span></span></span><span style=display:flex><span><span style=color:#8a93a5;font-style:italic>// fourth is [4,5,6,7,8,9,10]
</span></span></span></code></pre></div><p>Of course, there's more you can do with destructuring than just this, but generally I feel that Javascript's implementation feels more natural.
Perhaps it's the combination of how variant types are the base type of the language coupled with a consistent syntax.<br>This made me wonder if there is a more natural way to do with in statically typed languages...</p><p>(PS: How destructuring works in Rust is probably better than C++ IMO but I also hated it.
To be honest, I haven't given enough thought on how to do it on statically typed languages in a clean way).</p><p>One last thing to note is that it is actually not that hard to get things done in vanilla Javascript.
Technically speaking, everything you need is already provided by the browser.
I was recommended to use some crazy library and framework to do an image gallery with a zoomable/draggable lightbox, but turns out it wasn't difficult to write one without any libraries.
A few webapps later, I have written a small framework of my own that I will be bringing to different webapp projects.
I like to give mad props to TSoding's incredibly simple <a href=https://github.com/tsoding/grecha.js>grecha.js</a> which taught me a few interesting tricks despite the small amount of lines it has!</p></div></div></div></body></html>